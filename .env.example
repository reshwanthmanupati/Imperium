# Environment Configuration
# Copy this file to .env.local and customize for your environment

# MQTT Broker Configuration
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_USE_TLS=false
MQTT_CA_CERT_PATH=
MQTT_CLIENT_CERT_PATH=
MQTT_CLIENT_KEY_PATH=

# Prometheus Configuration
PROMETHEUS_URL=http://localhost:9090
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_RETENTION_DAYS=15

# Grafana Configuration
GRAFANA_URL=http://localhost:3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# API Configuration
API_HOST=0.0.0.0
API_PORT=5000
API_DEBUG=true
API_SECRET_KEY=change-this-to-a-random-secret-key
API_CORS_ORIGINS=*

# Authentication (JWT)
JWT_ENABLED=false
JWT_SECRET_KEY=change-this-to-a-random-jwt-secret
JWT_EXPIRATION_HOURS=24
JWT_ALGORITHM=HS256

# Network Enforcement
NETWORK_INTERFACE=eth0
NETWORK_FALLBACK_INTERFACE=wlan0
ENFORCEMENT_DRY_RUN=false  # Set true to simulate without actual tc commands
ENFORCEMENT_TIMEOUT_MS=5000

# Device Configuration
CONFIG_DEVICES_PATH=config/devices.yaml
CONFIG_INTENT_GRAMMAR_PATH=config/intent_grammar.yaml
CONFIG_POLICY_TEMPLATES_PATH=config/policy_templates.yaml

# Feedback Loop
FEEDBACK_ENABLED=true
FEEDBACK_CHECK_INTERVAL_SECONDS=30
FEEDBACK_VIOLATION_THRESHOLD=3  # Number of violations before auto-adjustment
FEEDBACK_HISTORY_SIZE=1000

# Persistence
DATABASE_TYPE=sqlite  # Options: sqlite, postgresql
DATABASE_URL=sqlite:///imperium.db
DATABASE_POOL_SIZE=5
DATABASE_ECHO=false

# PostgreSQL (if DATABASE_TYPE=postgresql)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=imperium
POSTGRES_USER=imperium
POSTGRES_PASSWORD=

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/imperium.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Monitoring
METRICS_ENABLED=true
METRICS_PORT=8000
METRICS_PATH=/metrics

# System Limits
MAX_INTENTS=1000
MAX_POLICIES=5000
MAX_DEVICES=100
POLICY_ENFORCEMENT_TIMEOUT=500  # milliseconds

# Development
DEBUG=true
TESTING=false
MOCK_NETWORK_ENFORCEMENT=false  # Set true on non-Linux systems
MOCK_MQTT_BROKER=false

# Security
RATE_LIMIT_ENABLED=false
RATE_LIMIT_PER_MINUTE=60
ALLOWED_HOSTS=*
CORS_ALLOW_CREDENTIALS=false

# Raspberry Pi Specific
RPI_CPU_THRESHOLD=60  # Percentage
RPI_MEMORY_THRESHOLD=70  # Percentage
RPI_TEMP_THRESHOLD=70  # Celsius
RPI_THROTTLE_ON_OVERHEAT=true

# Feature Flags
FEATURE_NLTP_PARSER=false  # Use NLTK instead of regex
FEATURE_AUTO_FEEDBACK=true
FEATURE_POLICY_LEARNING=false  # ML-based policy optimization
FEATURE_WEB_UI=false
FEATURE_API_DOCS=true  # Swagger/OpenAPI
